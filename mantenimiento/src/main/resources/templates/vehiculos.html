<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Veh√≠culos</title>
</head>
<body>
<h1>Veh√≠culos Registrados</h1>

<a href="/vehiculos/nuevo">‚ûï Agregar Veh√≠culo</a>
<br><br>

<table border="1">
    <thead>
    <tr>
        <th>Cliente</th>
        <th>Patente</th>
        <th>Marca</th>
        <th>Modelo</th>
        <th>Kil√≥metros actuales</th>
        <th>Duraci√≥n aceite</th>
        <th>Km/mes</th>
        <th>√öltimo cambio</th>
        <th>Pr√≥ximo cambio (fecha)</th>
        <th>Pr√≥ximo cambio (km)</th>
        <th>Email</th>
        <th>Filtro aceite</th>
        <th>Filtro aire</th>
        <th>Filtro combustible</th>
        <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="vehiculo : ${vehiculos}">
        <td th:text="${vehiculo.nombreCliente}"></td>
        <td th:text="${vehiculo.patente}"></td>
        <td th:text="${vehiculo.marca}"></td>
        <td th:text="${vehiculo.modelo}"></td>
        <td th:text="${vehiculo.kilometros}"></td>
        <td th:text="${vehiculo.duracionAceite}"></td>
        <td th:text="${vehiculo.kmPorMes}"></td>
        <td th:text="${#temporals.format(vehiculo.fechaUltimoCambio, 'dd-MM-yyyy')}"></td>
        <td th:text="${#temporals.format(vehiculo.fechaProximoCambio, 'dd-MM-yyyy')}"></td>
        <td th:text="${vehiculo.proximoServicioKm}"></td>
        <td th:text="${vehiculo.email}"></td>
        <td th:text="${vehiculo.filtroAceiteCambiado ? 'S√≠' : 'No'}"></td>
        <td th:text="${vehiculo.filtroAireCambiado ? 'S√≠' : 'No'}"></td>
        <td th:text="${vehiculo.filtroCombustibleCambiado ? 'S√≠' : 'No'}"></td>
        <td>
            <a th:href="@{'/vehiculos/editar/' + ${vehiculo.id}}">Editar</a> |
            <a th:href="@{'/vehiculos/eliminar/' + ${vehiculo.id}}" onclick="return confirm('¬øEliminar este veh√≠culo?')">Eliminar</a>
            <br/>
               <form th:action="@{'/vehiculos/enviarCorreo/' + ${vehiculo.id}}" method="post">
                <button type="submit">üìß Enviar recordatorio</button>
            </form>

        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
